- hosts: all
  become: yes
  connection: local

  pre_tasks:
    - name: Chromiumをインストールする
      package: name={{ item }}
      with_items:
        - chromium
        - pepper-flash

    - name: pamacのAURサポートを有効にする
      lineinfile:
        path: /etc/pamac.conf
        line: '{{ item.line }}'
        regexp: '{{ item.regexp }}'
      with_items:
        - line: EnableAUR
          regexp: '#?EnableAUR'
        - line: CheckAURUpdates
          regexp: '#?CheckAURUpdates'

    - name: 等幅フォントとしてNotoフォントを表示させる
      copy:
        dest: /etc/fonts/conf.d/51-font-alias.conf
        src: 51-font-alias.conf

    - name: Mozcをインストールする
      package: name=fcitx-mozc

    - name: Git GUI用のtkをインストールする
      package: name=tk

    - aur: name={{ item }} skip_installed=yes
      become: no
      with_items:
        - visual-studio-code-bin
        - powershell-bin

    - name: Yarnのインストール
      package: name=yarn

    - name: PHP開発ツールのインストール
      package: name={{ item }}
      with_items:
        - composer
        - php-pgsql
        - xdebug

    - name: Python開発ツールのインストール
      package: name={{ item }}
      with_items:
        - python-pipenv
        - python-pylint
        - autopep8

    - name: phpのPDO拡張(PostgreSQL)を有効にする
      lineinfile:
        path: /etc/php/php.ini
        regexp: ^;?extension=pdo_pgsql
        line: extension=pdo_pgsql
    # TODO WiFi設定
