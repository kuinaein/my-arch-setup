- copy:
    dest: '{{ home_dir }}/{{ item }}'
    src: '{{ item }}'
  with_items:
    - .xprofile

- name: fcitxの設定を行う
  lineinfile:
    path: '{{ home_dir }}/.config/fcitx/{{ item.subpath }}'
    regexp: '{{ item.regexp }}'
    line: '{{ item.line }}'
  with_items:
    - subpath: config
      regexp: ^TriggerKey=
      line: TriggerKey=ZENKAKUHANKAKU
    - subpath: conf/fcitx-clipboard.config
      regexp: ^#?HistoryLength=
      line: HistoryLength=16

- name: MATEをダークテーマにする
  dconf: key={{ item.key }} value={{ item.value }}
  with_items:
    - key: /org/mate/desktop/interface/gtk-theme
      value: "'BlackMATE'"
    - key: /org/mate/macro/general/theme
      value: "'Green-Submarine'"

- name: MATEパネルの設定を行う
  dconf: key={{ item.key }} value={{ item.value }}
  with_items:
    # 右寄せ有効だとウィンドウ一覧が隠れる
    - key: /org/mate/panel/objects/clock/panel-right-stick
      value: 'false'
    - key: /org/mate/panel/objects/clock/position
      value: '640'
    - key: /org/mate/panel/objects/notification-area/panel-right-stick
      value: 'false'
    - key: /org/mate/panel/objects/notification-area/position
      value: '440'
    - key: /org/mate/panel/toplevels/bottom/orientation
      value: "'right'"

- name: MATEメニューを設定する
  copy:
    dest: '{{ home_dir }}/.linuxmint/mintMenu/applications.list'
    src: mate-applications.list

- name: Cajaの設定を行う
  dconf: key={{ item.key }} value={{ item.value }}
  with_items:
    - key: /org/mate/caja/preferences/show-hidden-files
      value: 'true'
    - key: /org/mate/caja/preferences/default-folder-viewer
      value: "'list-view'"

- name: GIMP設定フォルダを作成する
  file: state=directory path={{ item }}
  with_items:
    - '{{ home_dir }}/.config/GIMP'
    - '{{ home_dir }}/.config/GIMP/2.10'

- name: GIMPに「レイヤーをエクスポート」を追加する
  copy:
    dest: '{{ home_dir }}/.config/GIMP/2.10/export-layers.scm'
    src: export-layers.scm
